#오늘 배운 내용

## **네트워크 기본**

- 대부분의 IT 서비스는 `웹(Web)`이나 `앱(Application)`을 통해 제공
- 네트워크란 각종 통신 장비들이 서로 그물망처럼 연결되어 데이터를 교환하거나 협력하여 일할 수 있게 해주는 통신망
- 인터넷은 작은 네트워크들이 모여 하나의 큰 네트워크를 구성한 것

<aside>
🖥️

IT 서비스

- Web Application ⇒ Server
- Network
- Client → Users

---

- `ISP (Internet Service Provider)` ⇒ 인터넷 서비스 제공사업자
</aside>

---

### **LAN (Local Area Network)**

⇒ 건물 안이나 특정 지역을 범위로 하는 네트워크

- 주로 짧은 거리 내의 컴퓨터나 장치를 연결해 사용

| 형식 | 설명 | 장점 | 단점 |
| --- | --- | --- | --- |
| `스타형` | 하나의 허브에 여러 대의 컴퓨터를 연결하는 방식 | 확장하기 쉽다 | 허브에서 문제가 발생하면 전체 통신이 안된다 |
| `링형` | 개별 컴퓨터가 서로 원처럼 연결되어 있는 구성 (토큰을 통해 구성) | 초기 구성이 쉽다 | 컴퓨터를 한대 더 추가할 경우 기존의 링을 절단하고 다시 연결해야 한다 |
| `버스형` | 하나의 긴 선(케이블)에 컴퓨터를 포함한 모든 주변장치를 연결 (터미네이터를 통해 구성) | 비용이 저렴하면서 설치하기 쉽다 | 케이블에 문제가 발생하면 저체 통신이 불가능하다 |
- +) 트리형 등등

---

<aside>
🖥️

NAS (Network Attached Storage)

- 
</aside>

---

### WAN (Wide Area Network)

⇒ 2개 이상의 랜을 연결한 것을 의미

- 넓은 지역에서 광범위하게 통신하고자 할 때 사용하는 네트워크
- 랜과 같은 별도의 네트워크 접속 형태는 없음
- 랜 사이에 통신이 잘 이루어지도록 연결만 해주면 됨

*대부분 WAN에서 내부망으로 접속할 때 방화벽이 존재

- 각 공간(사무실, 건물, 공장 등)에 구성된 LAN은 다른 LAN과 연결되기 위해 장거리 전송망 필요
- 장거리 전송망이 WAN
- WAN의 경우 회선 구성과 장비의 설치에 많이 비용이 발생하므로 회선 임대 사업자인 ISP 회선을 임대
- 금융권 혹은 공공 사업자 등 개별적인 자가망이 필요한 기관의 경우 WAN을 자체적으로 구성하기도 함

<aside>
🖥️

ISP 회선 임대

- Bandwidth (대역폭)에 따라 비용
</aside>

---

|  | LAN | WAN |
| --- | --- | --- |
| 사용목적 | 특정지역 및 공간의 내부 네트워크 연결 | 네트워크 간의 장거리 연결 |
|  | Switch 혹은 HUub를 이용하여 주로 구성 | Router를 이용하여 WAN 간 연결 |
|  | 회선의 사용량과 비용에 관련이 없음 | 회선을 임대하는 방식이므로 사용량에 따라 비용 발생 |
|  | 닷의 Switch 혹은 Hub 구매 비용 케이블 구성 비용 (초기 구축비용발생) | 소수의 Router 구매 혹은 Router 임대(초기 구축비용 하락) |
|  | 유지 보수 계약에 다른 비용 발생 | 회선 임대에 따른 비용발생 |

---

|  | layer 3 switch | router |
| --- | --- | --- |
| 사용목적 | switch 기능과 제한적인 routing 기능의 사용 | routing 기능의 사용과 추가 모듈을 통한 제한적인 switch compute기능 사용 |
| 사용 구간 | 내부 네트워크 연결 랜 | 내부와 외부 네트워크의 연결 웬 |
| 연결 네트워크 속성 | 회선의 제약이 없는 내부 구간 | 회선 용량에 다라 비용이 발생하는 외부 구간 |
| 인터페이스 종류 | ethernet (DaTa/PoE)만 지원되는 경우가 대부분 | 다양한 외부 회선 연결을 위해 DSL ISDN BRI LTE 등의 다양한 형태의 인터페이스 지원 |
| 주요 기능 | 스위칭 관련 기능 - VLAN, STP 등 | Routing 주요 기능 - NAT, Voice Gateway 등 |
| 장비 중심 기능 | 많은 포트를 이용한 고성능 스위칭 |  |
- 허브 : 여러 대의 컴퓨터를 연결 할 때 사용하는 장치
- 스위치 : 대역폭을 확대해주는 장치
- 라우터 : 다른 컴퓨터를 찾아가기 위한 길을 제시하는 역할을 하는 장치

---

<aside>
🖥️

대역폭 (Bandwidth)

- 1초당 처리할 수 있는 데이터의 양
- 폭이 넓을 수록 좋다 (다차선 고속도로)
- 대역폭을 의미하는 단위 = bps(bit per second) / b는 비트를 의미
</aside>

---

네트워크의 규칙, 프로토콜

- 프로토콜 : 컴퓨터나 원거리 통신 장비 사이에서 메시지를 주고받는 양식과 규칙의 체계

---

### 🖥️ OSI 7 Layer (OSI 7 계층)

- 컴퓨터와 컴퓨터가 통신하는 구조를 7개의 계층으로 정의해둔 약속, 즉 프로토콜

| 계층 | 설명 |  |
| --- | --- | --- |
| 7 : 응용계층 | 사용자와 애플리케이션 간의 소통 |  |
| 6 : 표현계층 | 데이터를 어떻게 표현할지 정의 |  |
| 5 : 세션계층 | 통신을 설정, 관리, 종료 |  |
| 4 : 전송계층 | 신뢰성 있는 정확한 데이터 전달 |  |
| 3: 네트워크 계층 | 네트워크 장치 간의 경로 선택과 데이터 전송 | 라우터 |
| 2 : 데이터 링크 계층 | 물리적인 연결을 통해 오류 없는 데이터 전달 | 브리지 스위치 |
| 1 : 물리 계층 | 전기 신호를 이용해서 통신 케이블로 데이터를 전송 | 리피터 허브 |
- 송신자 관점에서 7 → 1 → 1 → 7 수신자
- 통신이 일어나는 과정을 단계별로 확인 가능
- 통신에 문제 발생 시 원인 파악 및 해결이 쉬움

1. 물리계층

물리 계층의 역할

- 컴퓨터들을 물리적으로 연결하거나 데이터를 전기 신호로 변환-제어하는 역할을 담당
- 전기 신호는 전압이 일정한 패턴으로 변하여 생기는 일련의 흐름 (전압의 변화에 의한 신호)
- 컴퓨터는 이런 전기 신호를 주고 받음으로써 사진이나 문서를 주고받음

케이블의 종류와 구조

- 컴퓨터, 서버, 라우터 및 다른 네트워크 장치 간에 신호를 전달하는 역할
- 꼬임선 방식 케이블 : UTP(Unshielded Twisted Pair), STP
- 일반적으로 전선에 전류가 흐를 때 전파 간섭이 생기는데 이 간섭을 줄이기 위해 전선을 꼬아서 사용
- 실드의 경우 외부 잡음을 차단하거나 전기적 신호의 간섭을 줄이는 용도로 사용

<aside>
🛠

FTP - Foiled Twisted Pair

- 케이블에 알루미늄 은박이 전선을 감싸고 있음
- 절연 기능이 좋기에 공장의 배선 용도로 많이 사용
</aside>

리피터(Repeater)

- 전기 신호를 증폭하는 기능을 가진 네트워크 장치
- 전기 신호 전송 시 먼 거리에서 신호가 감쇠되면 감쇠 신호를 재생하여 전달하는 장치
- 요즘에는 허브에서 대신

허브 (Hub)

- 리피터의 확장버전
- 전송되는 데이터 신호를 정형하고 증폭하여 데이터 왜곡을 보정
- 하나의 입력 신호를 여러 디바이스로 복제하여 데이터 분배 및 네트워크 확장 지원
- 데이터 충돌 처리 → 데이터의 정상적인 전달
- 허브는 포트를 통해 여러 컴퓨터와 통신 지원

---

1. 데이터 링크 계층
- 데이터 링크 계층은 네트워크에서 데이터를 관리하고 전달하는 계층
- 데이터 전송의 신뢰성과 효율성에 중요

회선 제어

- 회선 제어는 오류를 감지하기 보다 회피하는 방법으로 신호 간 충돌 현상이 발생하지 않도록 제어
- ENQ(Enquiry) 신호 시작
- EOT(End of Transmission) 신호 종료
- ACK(Acknowledgement) 수신

오류 제어

- 오류 제어는 송수신 데이터가 외부 간섭, 시간 지연 등에 의해 데이터가 변형되거나 순서가 어긋나는 등의 통신 장애가 발생하지 않도록 오류 검출, 정정하여 통신에 대한 신뢰성 확보 (페리티 검사)

<aside>
🛠

패리티 검사(parity check)

- 수신자에게 보내는 최종 데이터의 1의 개수를 짝수 개로 보낼지 홀수 개로 보낼지
</aside>

---

흐름 제어

- 송신자와 수신자의 데이터 처리 속도 차이를 해결하기 위해 수신자 상황에 따라 송신자의 데이터 전송량을 조정하는 방법
- 정지-대기(Stop & Wait)
- 수신자가 ACK 메시지를 전달해야 다음 데이터를 전송

<aside>
🛠

이더넷

- 이더넷은 CSMA/CD라고 하는 프로토콜을 사용
- CarrierSense - Multiple Access - Collision Detection
1. 1-persistant
- 케이블이 사용중인지 상태를 계속 확인하다가 아무도 사용하지 않으면 바로 데이터 전송
1. nonpersistant
- 누구도 케이블을 사용하고 있지 않다면 데이터를 바로 보내고 그렇지 않고 누군가 사용중이라면 기다렸다가 전송
1. p-persistant
- 위 두 개의 결합
- 케이블이 사용 중이라면 기다렸다가 다시 상태를 확인하고 아무도 사용하고 있지 않다면 일정 확률로 데이터를 전송
</aside>

---

1. 네트워크 계층

라우터

- 데이터가 어떤 경로로 전달되어야 하는지를 알려주는 내비게이션과 같은 역할
- 라우팅 (Routing) : 라우트 경로의 설정 / 어떤 길이 가장 빠른 길인지 찾는 과정
- 라우팅 테이블(Routing Table) : 데이터를 목적지까지 보내기 위한 거리와 방법 등을 명시한 테이블

혼잡제어

- 네트워크로 들어가는 정보량을 조절하여 네트워크가 혼잡해지지 않게 조절하는 방법
- 송신자는 먼저 하나의 데이터만 보내고 수신자 측에서 ACK가 오면 전송량을 2배씩 늘려나감

흐름제어

- 데이터 링크 계층에서 사용했던 정지-대기 방식과 동일

오류제어

- 수신자로부터 ACK를 받지 못하면 오류로 판단
- 특정 시간 내에 ACK가 없으면 오류로 판단
- 데이터가 중간에 손실

---

1. 전송 계층
- 데이터를 목적지에 문제없이 전달하는 것을 목표로 함
- 데이터 전달 목적에 따라 연결형과 비연결형으로 나뉨

3-Way-Handshake

1. 송신자는 수신자에게 SYN이라는 임의의 숫자를 보냄
2. 수신자는 잘 들린다는 의미의 ACK와 

---

### TCP/IP 4 계층

| 계충 | 설명 |
| --- | --- |
| 응용 계층 | 사용자와 애플리케이션 간의 소통 |
| 전송 계층 | 데이터의 전송 및 흐름에 있어 신뢰 보장 |
| 인터넷 계층 | 물리적으로 데이터가 네트워크를 통해 어떻게 전송되는지를 정의 |
| 네트워크 인터페이스 계층 | 데이터를 전기 신호로 변환한 뒤 데이터 전송 |

---

- 포트 (Port)

⇒ 애플리케이션을 구분하기 위한 번호

- 0~1023 : 잘 알려진 포트
- 1024~49151 : 기관이나 기업 사용 포트 (registered port)

| 포트 번호 | 프로토콜 | 용도 |
| --- | --- | --- |
| 80 | HTTP | 웹 페이지 전송 프로토콜 |
| 25 | SMTP | 이메일 전송 프로토콜 |
| 23 | Telnet | 비암호화 텍스트 통신 프로토콜 |
| 53 | DNS | 도메인 이름 변환 프로토콜 |
| 443 | HTTPS | 암호화 웹 페이지 전송 프로토콜 |
| 20 | FTP | 데이터 전송 프로토콜 |
| 110 | POP3 | 이메일 수신 |

---

- **IP 주소**

⇒ 인터넷에 연결되어 있는 모든 장치 (사용자 컴퓨터, 서버, 스마트폰 등)를 식별할 수 있도록 각각의 장치에 부여된 고유 주소 - 네트워크 계층에서 사용

- IP는 다른 장치와 중복되면 안 됨

IP 주소의 구조

- 네트워크 ID 와 호스트 ID 로 구분
- 호스트 ID : 라우터에 연결된 개별 컴퓨터들을 관리하기 위해 사용
- 192.168.2. (네트워크) | 124 (호스트)

- MAC 주소

⇒ 하드웨어 장치에 할당된 주소

- 랜 카드에 할당된 값이며, 전 세계에 하나밖에 존재하지 않는 고유한 값
- MAC(Media Access Control) 주소는 컴퓨터를 구매할 때부터 할당되어 있는 기기의 고유 번호이며 데이터 링크 계층에서 사용
- 48비트로 표현, 상위 24비트는 OUI라고 해서 랜 카드 제조사에 부여된 코드
- 이후 24비트는 UAA라고 하여 제조사가 랜 카드에 부여한 고유 번호
- MAC 주소 확인은 랜 환경 내에서만 가능

---

<aside>
🖥️

- 캡슐화-역캡슐화

OSI 7 계층의 각 계층을 지나면서 덧붙여지는 정보를 헤더(Header)라고 함

- 헤더가 추가되는 과정 : 캡슐화(Encapsulation)

| 계층 | 헤더 정보 |
| --- | --- |
| 전송 계층 | 포트 정보 |
| 네트워크 계층 | 송수신자의 IP 정보 |
| 데이터 링크 계층 | 송수신자의 MAC 주소, 트레일러 |
- 헤더 정보가 벗겨지는 과정 : 역캡슐화(Decapsulation)
</aside>

---

- ARP (Address Resolution Protocol)
1. IP주소 ( ) 의 PC와 통신하기 원함
2. 상대방의 MAC 주소가 있는가
3. ARP 테이블 검색

- ARP 요청은 Broadcast
- Broadcast 수신 가능 → 동일 네트워크에 목적지가 존재
- 무응답 → 동일 네트워크에 목적지가 존재하지 않음

---

- 스위치 구조
- 스위치의 기능은 허브와 크게 다르지 않음
- 컴퓨터에서 데이터를 보내면 허브에 물려 있던 모든 컴퓨터에 그 데이터가 전송

- 스위치에서 MAC 테이블 관리하기
- 스위치는 허브와 같이 컴퓨터나 프린터 등을 연결하여 데이터를 공유하는 것 외에 또 다른 기능이 있음
- 스위치 포트에 연결된 컴퓨터의 MAC 주소를 관리
- 포트별 MAC 주소를 테이블(표)로 관리 - MAC 테이블

---

### NAT (Network Address Translate)

- 내부의 사설 IP 주소를 공인 IP 로 변경하여 연결
- Router에서 내부/외부 통신 과정에서 NAT 수행
- 외부에서는 Router의 공인 IP Address만 확인 가능

- 외부에서 내부로 직접 연결 불가 ⇒ Port Fowarding을 통해 해결

<aside>
🛠

Port Forwading

</aside>

---

### Broadcast

- 같은 네트워크에 속한 모든 컴퓨터에게 데이터를 전달
- 수신자 입장에서 원하지 않아도 일방적으로 정보를 수신
- 데이터를 수신하는 컴퓨터는 정보가 필요한지 판단하는 번거로움이 존재

### Unicast

- 1:1 통신
- 상대방 MAC 주소를 알고 있어야 함

### Multicast

- 특정 그룹을 지정해서 그 그룹에 해당하는 컴퓨터에게만 데이터를 보내는 방식

---

### Subnet (서브넷)

하나의 네트워크를 더 효율적으로 사용

- 하나의 네트워크가 분할된 작은 네트워크
- Subneting(서브넷팅) : 작은 네트워크로 나누는 작업

- 네트워크 ID는 그대로 두고 호스트 ID를 쪼개는 방식
- 쪼개는 수가 적을수록 사용 가능 호스트가 늘어남

<aside>
🛠

서브넷 마스크

- 192.168.1.1/24
- 255.255.255.0
- /24 가 의미하는 것은 네트워크 ID의 비트 수
- 24비트가 모두 1의 값을 가지기에
</aside>

CIDR 

---

윈도우 크기

- 송신자가 한 번에 보낼 수 있는 데이터의 최대 크기

코드 비트

| 항목 | 설명 |
| --- | --- |
| TURG | 긴급 처리 데이터가 있음 |
| ACK | 확인 응답 번호 사용 |
| RSH | TCP가 받은 데이터를 상위 계층에 전달 |
| RST | 연결 재설정 |
| SYN | 연결을 초기화하기 위해 순서 번호를 동기화 |
| FIN | 데이터 송신 종료 |

---

HTTP 프로토콜

- 사용자가 URL을 입력하는 행위를 요청(request)
- 서버가 사용자의 요청에 응답(response)

| GET | 서버로부터 데이터를 획득 |
| --- | --- |
| POST | 서버에 데이터를 추가, 생성 |
| PUT | 서버의 데이터를 갱신 |
| PATCH | 요청된 데이터를 수정 |
| DELETE | 데이터를 삭제 |

| 상태코드 | 의미 | 설명 |
| --- | --- | --- |
| 1xx | 정보 | 요청을 받았으며 처리가 되고 있음을 나타냅니다 |
| 2xx | 성공 | 요청이 성공했음을 나타냅니다 |
| 3xx | 리다이렉션 | 클라이언트가 요청한 콘텐츠가 다른 곳에 있다는 의미입니다 |
| 4xx | 클라이언트 오류 | 클라이언트 측에 기인한 오류로 요청이 실패하였음을 의미합니다. |
| 5xx | 서버 오류 | 서버 측에 기인한 오류로 인해 요청이 실패했음을 의미합니다. |

---

DNS (Domain Name System)

- IP 주소를 도메인 주소로 변경해주는 것
1. 사용자는 도메인 주소를 웹 브라우저에 입력
2. 사용자 요청은 DNS 서버로 전달
3. 서버는 도메인 주소에 해당하는 IP 주소 전달
4. 사용자는 해당 주소를 이용하여 웹 사이트 접속
5. 웹 서버는 사용자의 요청에 응답

---

DHCP

자동으로 IP 주소를 할당

- DHCP 서버 : 사용자들에게 IP주소를 할당하거나 회수하는 것을 자동으로 해주는 서버

---

로드 밸런서 (전송 계층)

- 여러 대의 서버를 두고 사용자가 한쪽으로 몰리는 것을 분산시켜주는 장치
- 서버가 늘어나면 스케일 아웃
- 서버가 줄어들면 스케일 인
- 부하 분산 작업을 로드 밸런식(Load Balancing)이라고 함
    - round robin : 기본 분배 방식 / 각 서버별로 돌아가면서 연결을 처리
    - 가중 라운드 로빈 : 각 서버별로 돌아가면서 연결을 처리 / 일부 서버는 큰 트래픽을 몰아 받음
    - 랜덤 : 무작위 분배
    - 해시 : 특정 클라이언트는 특정 서버에서만 처리
